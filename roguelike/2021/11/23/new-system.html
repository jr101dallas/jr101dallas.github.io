<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <title>New System</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="/assets/css/style.css?v=">
    <link rel="stylesheet" type="text/css" href="/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link type="application/atom+xml" rel="alternate" href="https://assumeforsimplicity.com/feed.xml" title="Assume For Simplicity" />
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>New System | Assume For Simplicity</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="New System" />
<meta name="author" content="jr101dallas" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Target Versus Collision I think, conceptually, the model I’m still operating on is that there are:" />
<meta property="og:description" content="Target Versus Collision I think, conceptually, the model I’m still operating on is that there are:" />
<link rel="canonical" href="https://assumeforsimplicity.com/roguelike/2021/11/23/new-system.html" />
<meta property="og:url" content="https://assumeforsimplicity.com/roguelike/2021/11/23/new-system.html" />
<meta property="og:site_name" content="Assume For Simplicity" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-11-23T09:11:34+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="New System" />
<script type="application/ld+json">
{"description":"Target Versus Collision I think, conceptually, the model I’m still operating on is that there are:","headline":"New System","dateModified":"2021-11-23T09:11:34+00:00","datePublished":"2021-11-23T09:11:34+00:00","url":"https://assumeforsimplicity.com/roguelike/2021/11/23/new-system.html","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://assumeforsimplicity.com/roguelike/2021/11/23/new-system.html"},"author":{"@type":"Person","name":"jr101dallas"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <div id="container">
      <div class="inner">
        <nav>
    
      <a href="/" >
        Home
      </a>
    
      <a href="/posts/" >
        Posts
      </a>
    
      <a href="/breadcrumbs/" >
        Breadcrumbs
      </a>
    
      <a href="/roguelike-tutorial/" >
        Roguelike
      </a>
    
      <a href="/about/" >
        About
      </a>
    
  </nav>
        <header>
          <h1>New System</h1>
          <h2>Manage Time, Software, and Business, Easily  </h2>
        </header>
        <section id="downloads" class="clearfix">
          
	
        </section>
        <hr>
        <section id="main_content">
          <p class="view">23 November 2021 by jr101dallas</p>
<a href="/posts/">&#8672;&nbsp;Back to Posts</a>


<h1 id="target-versus-collision">Target Versus Collision</h1>
<p>I think, conceptually, the model I’m still operating on is that there are:</p>

<ol>
  <li>attacks launched</li>
  <li>packets of attack stats moving based on position and velocity</li>
  <li>collisions based on position</li>
  <li>resolution of collision based on attack stats versus defense stats</li>
</ol>

<p>Slowly heading in this direction, with the Target system to start, and adding the OffenseMods model to carry the atack instance, leads me to the next step of creating the collision resolution system. The only name I’m thinking of so far is Collision.</p>

<h2 id="position">Position</h2>
<p>I’m still dragging my feet on adding the display and position functionality. That means I’m not working on actual position of launched attacks and triggering collision resolution based on whether there is an Entity in the same position. However, with the same assumptions I’m already using, some Entity launches an attack and some adjacent Entity is the target, meaning that the created attack immediately triggers collision resolution, I can just chain together the logic.</p>

<p>The stage I’m at is that I’m actually going to break out the collision resolution into the Collision system. Collision could eventually split further when the position related collision detection comes into play, but for the moment it will just handle the armor and damage calculations.</p>

<h2 id="work-plan">Work Plan</h2>
<p>Essentially, I need to decide where in this block of code from Target the seam needs to go to split code off into Collision.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>            <span class="kt">var</span> <span class="n">num</span> <span class="p">=</span> <span class="n">_rand</span><span class="p">.</span><span class="nf">Next</span><span class="p">(</span><span class="m">100</span><span class="p">);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">num</span> <span class="p">+</span> <span class="n">offenseMods</span><span class="p">.</span><span class="n">totalAim</span> <span class="p">&gt;</span> <span class="m">50</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">defenseComponent</span><span class="p">.</span><span class="n">CurrentHealth</span> <span class="p">-=</span> <span class="n">offenseMods</span><span class="p">.</span><span class="n">totalDamage</span><span class="p">;</span>
                <span class="k">if</span><span class="p">(</span><span class="n">defenseComponent</span><span class="p">.</span><span class="n">CurrentHealth</span> <span class="p">&lt;=</span> <span class="m">0</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Entity </span><span class="p">{</span><span class="n">targetEntity</span><span class="p">.</span><span class="n">Id</span><span class="p">.</span><span class="nf">ToString</span><span class="p">()}</span><span class="s"> has been removed from play!"</span><span class="p">);</span>
                    <span class="n">_unv</span><span class="p">.</span><span class="n">entities</span><span class="p">.</span><span class="nf">Remove</span><span class="p">(</span><span class="n">targetEntity</span><span class="p">.</span><span class="n">Id</span><span class="p">);</span>
                <span class="p">}</span>
            <span class="p">}</span>
</code></pre></div></div>

<p>If I pull the randome number generator (RNG) into Collision there’s some plumbing to move around. I’m not sure I’m going to need RNG in Collision at all. Technically, the <code class="language-plaintext highlighter-rouge">&gt; 50</code> part is what’s going to get adjusted in the calculations in Collision so the if statement probably belongs there. That lands me on comething like Collision.Resolve with an argument of an OffenseMods instance getting passed in with the RNG value added into it, maybe now that I’m thinking of it, as a separate value.</p>

<p>That’s really a concept, a design idea, not a list of work items, so I need to work that up next.</p>



  <small>tags: <em>plan</em> - <em>system</em> - <em>defense</em></small>


<p>
  <div class="post-nav">
    <p>
      
      <a href="/roguelike/2021/11/22/armor.html">&#8672;&nbsp;Armor</a>
      
    </p>
    <p>
      
      <a href="/roguelike/2021/11/24/collision-work.html">Collision Work&nbsp;&#8674;</a>
      
    </p>
  </div>
</p>
        </section>

        <footer>
        
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

      </div>
    </div>

    
  </body>
</html>