<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <title>Systems</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="/assets/css/style.css?v=2caa0aad044a3b83b4d652639794266fe94766b9">
    <link rel="stylesheet" type="text/css" href="/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link type="application/atom+xml" rel="alternate" href="https://assumeforsimplicity.com/feed.xml" title="Assume For Simplicity" />
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Systems | Assume For Simplicity</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Systems" />
<meta name="author" content="jr101dallas" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="How Should They Work Eventually, I’m almost certainly going to want to break out big System processing into microservices. Target system is about launching attacks, almost regardless of actual landing of any hits. For instance, imagining a First Person Shooter, if a character starts spraying machine gun fire everywhere, there could potentially be a lot of stuff “targeted” but another character might not even be in the list." />
<meta property="og:description" content="How Should They Work Eventually, I’m almost certainly going to want to break out big System processing into microservices. Target system is about launching attacks, almost regardless of actual landing of any hits. For instance, imagining a First Person Shooter, if a character starts spraying machine gun fire everywhere, there could potentially be a lot of stuff “targeted” but another character might not even be in the list." />
<link rel="canonical" href="https://assumeforsimplicity.com/roguelike/2021/10/29/systems.html" />
<meta property="og:url" content="https://assumeforsimplicity.com/roguelike/2021/10/29/systems.html" />
<meta property="og:site_name" content="Assume For Simplicity" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-10-29T09:11:34+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Systems" />
<script type="application/ld+json">
{"description":"How Should They Work Eventually, I’m almost certainly going to want to break out big System processing into microservices. Target system is about launching attacks, almost regardless of actual landing of any hits. For instance, imagining a First Person Shooter, if a character starts spraying machine gun fire everywhere, there could potentially be a lot of stuff “targeted” but another character might not even be in the list.","headline":"Systems","dateModified":"2021-10-29T09:11:34+00:00","datePublished":"2021-10-29T09:11:34+00:00","url":"https://assumeforsimplicity.com/roguelike/2021/10/29/systems.html","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://assumeforsimplicity.com/roguelike/2021/10/29/systems.html"},"author":{"@type":"Person","name":"jr101dallas"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <div id="container">
      <div class="inner">
        <nav>
    
      <a href="/" >
        Home
      </a>
    
      <a href="/posts/" >
        Posts
      </a>
    
      <a href="/breadcrumbs/" >
        Breadcrumbs
      </a>
    
      <a href="/roguelike-tutorial/" >
        Roguelike
      </a>
    
      <a href="/about/" >
        About
      </a>
    
  </nav>
        <header>
          <h1>Systems</h1>
          <h2>Manage Time, Software, and Business, Easily  </h2>
        </header>
        <section id="downloads" class="clearfix">
          
	
        </section>
        <hr>
        <section id="main_content">
          <p class="view">29 October 2021 by jr101dallas</p>
<a href="/posts/">&#8672;&nbsp;Back to Posts</a>


<h1 id="how-should-they-work">How Should They Work</h1>
<p>Eventually, I’m almost certainly going to want to break out big System processing into microservices. Target system is about launching attacks, almost regardless of actual landing of any hits. For instance, imagining a First Person Shooter, if a character starts spraying machine gun fire everywhere, there could potentially be a lot of stuff “targeted” but another character might not even be in the list.</p>

<p>The projectiles might be entities if I care about where they might eventually end up, or they might be some other kind of object that doesn’t get an Id because we don’t really all the way care if they get lost by the system. Lose a player or maybe even monsters in the play area, and people get mad or maybe mock you about phantom mobs. Lose some projectiles, maybe nobody notices unless it happens a lot.</p>

<h2 id="back-on-target">Back on Target</h2>
<p>So, Target should handle things like checking the origin Entity for active weapon, calculating damage type and amount, creating projectiles, calculating trajectory and progress along the flight plan, and finally collisions, which are “successful” target objects actually landing a hit, on something at least. So, <code class="language-plaintext highlighter-rouge">.Target(targetEntity)</code> is a spcial case something more like <code class="language-plaintext highlighter-rouge">.TargetAdjacent(direction)</code> where an Entity is already known to be adjacent. This is kind of getting into the weeds on things we don’t need to figure out just yet, but it’s helping me think out the direction I’m headed.</p>

<h2 id="at-the-moment">At the Moment</h2>
<p>Growing code monstrosity but passing test looks like this.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="p">[</span><span class="n">TestMethod</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">TargetEntityRemovedFromPlay</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">unv</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Universe</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">originEntity</span> <span class="p">=</span> <span class="n">unv</span><span class="p">.</span><span class="nf">GetEntity</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">targetEntity</span> <span class="p">=</span> <span class="n">unv</span><span class="p">.</span><span class="nf">GetEntity</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">tEntityId</span> <span class="p">=</span> <span class="n">targetEntity</span><span class="p">.</span><span class="n">Id</span><span class="p">;</span>

            <span class="kt">var</span> <span class="n">target</span> <span class="p">=</span> <span class="p">(</span><span class="n">Target</span><span class="p">)</span><span class="n">unv</span><span class="p">.</span><span class="n">systems</span><span class="p">[</span><span class="k">nameof</span><span class="p">(</span><span class="n">Target</span><span class="p">)];</span>
            <span class="n">target</span><span class="p">.</span><span class="nf">TargetEntity</span><span class="p">(</span><span class="n">unv</span><span class="p">,</span> <span class="n">originEntity</span><span class="p">,</span> <span class="n">targetEntity</span><span class="p">);</span>

            <span class="n">Assert</span><span class="p">.</span><span class="nf">IsFalse</span><span class="p">(</span><span class="n">unv</span><span class="p">.</span><span class="n">entities</span><span class="p">.</span><span class="nf">TryGetValue</span><span class="p">(</span><span class="n">tEntityId</span><span class="p">,</span> <span class="k">out</span> <span class="n">_</span><span class="p">));</span>
        <span class="p">}</span>
</code></pre></div></div>

<p>Next I have some really hard thinking and lots of refactoring to do to get the yuck out of it.</p>



  <small>tags: <em>code</em> - <em>system</em> - <em>architecture</em></small>


<p>
  <div class="post-nav">
    <p>
      
      <a href="/roguelike/2021/10/28/target-system-code.html">&#8672;&nbsp;Target System Code</a>
      
    </p>
    <p>
      
      <a href="/roguelike/2021/10/30/refactoring.html">Refactoring&nbsp;&#8674;</a>
      
    </p>
  </div>
</p>
        </section>

        <footer>
        
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

      </div>
    </div>

    
  </body>
</html>