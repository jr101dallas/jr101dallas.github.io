<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <title>Target System Code</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="/assets/css/style.css?v=2caa0aad044a3b83b4d652639794266fe94766b9">
    <link rel="stylesheet" type="text/css" href="/assets/css/print.css" media="print">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link type="application/atom+xml" rel="alternate" href="https://assumeforsimplicity.com/feed.xml" title="Assume For Simplicity" />
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Target System Code | Assume For Simplicity</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Target System Code" />
<meta name="author" content="jr101dallas" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Groundwork Finally, I have a class that contains tracking for all the entities I’m going to be creating, Universe of course. And I have a factory to help me make sure my entities are created with unique Id values and eventually to give me the right kind when there are multiple kinds. I even have tests that validate that creating two entities in a row doesn’t annihilate the first one created and that I can get back the first entity from my storage in Universe. I have an actual definition of an Entity being “in play.”" />
<meta property="og:description" content="Groundwork Finally, I have a class that contains tracking for all the entities I’m going to be creating, Universe of course. And I have a factory to help me make sure my entities are created with unique Id values and eventually to give me the right kind when there are multiple kinds. I even have tests that validate that creating two entities in a row doesn’t annihilate the first one created and that I can get back the first entity from my storage in Universe. I have an actual definition of an Entity being “in play.”" />
<link rel="canonical" href="https://assumeforsimplicity.com/roguelike/2021/10/28/target-system-code.html" />
<meta property="og:url" content="https://assumeforsimplicity.com/roguelike/2021/10/28/target-system-code.html" />
<meta property="og:site_name" content="Assume For Simplicity" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-10-28T09:11:34+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Target System Code" />
<script type="application/ld+json">
{"description":"Groundwork Finally, I have a class that contains tracking for all the entities I’m going to be creating, Universe of course. And I have a factory to help me make sure my entities are created with unique Id values and eventually to give me the right kind when there are multiple kinds. I even have tests that validate that creating two entities in a row doesn’t annihilate the first one created and that I can get back the first entity from my storage in Universe. I have an actual definition of an Entity being “in play.”","headline":"Target System Code","dateModified":"2021-10-28T09:11:34+00:00","datePublished":"2021-10-28T09:11:34+00:00","url":"https://assumeforsimplicity.com/roguelike/2021/10/28/target-system-code.html","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://assumeforsimplicity.com/roguelike/2021/10/28/target-system-code.html"},"author":{"@type":"Person","name":"jr101dallas"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <div id="container">
      <div class="inner">
        <nav>
    
      <a href="/" >
        Home
      </a>
    
      <a href="/posts/" >
        Posts
      </a>
    
      <a href="/breadcrumbs/" >
        Breadcrumbs
      </a>
    
      <a href="/roguelike-tutorial/" >
        Roguelike
      </a>
    
      <a href="/about/" >
        About
      </a>
    
  </nav>
        <header>
          <h1>Target System Code</h1>
          <h2>Manage Time, Software, and Business, Easily  </h2>
        </header>
        <section id="downloads" class="clearfix">
          
	
        </section>
        <hr>
        <section id="main_content">
          <p class="view">28 October 2021 by jr101dallas</p>
<a href="/posts/">&#8672;&nbsp;Back to Posts</a>


<h1 id="groundwork">Groundwork</h1>
<p>Finally, I have a class that contains tracking for all the entities I’m going to be creating, Universe of course. And I have a factory to help me make sure my entities are created with unique Id values and eventually to give me the right kind when there are multiple kinds. I even have tests that validate that creating two entities in a row doesn’t annihilate the first one created and that I can get back the first entity from my storage in Universe. I have an actual definition of an Entity being “in play.”</p>

<h2 id="ta-da">Ta Da!</h2>
<p>That means that I should actually be able to support a test that creates two distinct Entity instances that are durable and retrievable from Universe and have one target the other and the target can be verifiably removed from the play area. I do also think that I’m realizing that part of the problem with my “not small enough chunk of work” is that I didn’t really complete the thought of Entity as being a bucket of Components with an Id. When I run back through this in the tutorial, there should be more parts to implementing Entity before I start trying to add Component. Live and learn.</p>

<h2 id="goal">Goal</h2>
<p>The test that I created and then had to comment out because I was just too far away in terms of work is this one, now uncommented again.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="p">[</span><span class="n">TestMethod</span><span class="p">]</span>
        <span class="k">public</span> <span class="k">void</span> <span class="nf">TargetEntityRemovedFromPlay</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">originEntity</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Entity</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">targetEntity</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Entity</span><span class="p">();</span>

            <span class="n">originEntity</span><span class="p">.</span><span class="nf">Target</span><span class="p">(</span><span class="n">targetEntity</span><span class="p">);</span>

            <span class="n">Assert</span><span class="p">.</span><span class="nf">IsNull</span><span class="p">(</span><span class="n">targetEntity</span><span class="p">);</span>
        <span class="p">}</span>
</code></pre></div></div>

<p>You can’t see it here, but I still have a red squiggly for <code class="language-plaintext highlighter-rouge">.Target(targetEntity)</code> because it still doesn’t exist. It’s still in my EntityTests.cs which is probably the wrong place for it, but now I think I’m actually not far from having the right place.</p>

<h2 id="coding">Coding</h2>
<p>So I’m technically hitting a <code class="language-plaintext highlighter-rouge">git stash pop</code> to pull back out some files I started putting together before I realized I was too far away and not ready. Here are the System interface and Target class to start.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">public</span> <span class="k">interface</span> <span class="nc">ISystem</span>
    <span class="p">{</span>  
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">Target</span> <span class="p">:</span> <span class="n">ISystem</span>
    <span class="p">{</span>        
    <span class="p">}</span>
</code></pre></div></div>

<p>Again, trivial to start. And it affords me a place to land that test, <code class="language-plaintext highlighter-rouge">TargetTests.cs</code>, that actually makes sense. But, now I need to work in that “removed from play” concept. Universe isn’t in my test and “in Universe” is “in play.” That means that the first part of my test needs to look more like this:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>            <span class="kt">var</span> <span class="n">unv</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Universe</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">originEntity</span> <span class="p">=</span> <span class="n">unv</span><span class="p">.</span><span class="nf">GetEntity</span><span class="p">();</span>
            <span class="kt">var</span> <span class="n">targetEntity</span> <span class="p">=</span> <span class="n">unv</span><span class="p">.</span><span class="nf">GetEntity</span><span class="p">();</span>
</code></pre></div></div>

<p>But now I need to think some more about how the Target system, and probably all my systems, need to work. And that probably means that I’ve stumbled over the second half of the “too big a work chunk” problem.</p>



  <small>tags: <em>code</em> - <em>system</em> - <em>target</em></small>


<p>
  <div class="post-nav">
    <p>
      
      <a href="/roguelike/2021/10/27/sortedlist=extensions.html">&#8672;&nbsp;SortedList Extensions</a>
      
    </p>
    <p>
      
      <a href="/roguelike/2021/10/29/systems.html">Systems&nbsp;&#8674;</a>
      
    </p>
  </div>
</p>
        </section>

        <footer>
        
          This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.
        </footer>

      </div>
    </div>

    
  </body>
</html>